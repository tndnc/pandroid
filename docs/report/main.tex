%--------------------------------------------------
%	DOCUMENT CONFIGURATION
%--------------------------------------------------
\documentclass[a4paper, 11pt, titlepage]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[french]{babel}
\usepackage[margin=1in]{geometry}
\usepackage{amsmath, amssymb, mathtools, amsthm}
\usepackage{graphicx}
\usepackage{subfiles}
\usepackage[table]{xcolor}
\usepackage{titlesec}
\usepackage{tikz}
\usepackage{tkz-graph}
\usepackage{listings}
\usepackage{subcaption}
\usepackage[backend=biber,style=numeric,citestyle=numeric]{biblatex}
\usepackage{csquotes}
\usepackage{changepage}
\usepackage{appendix}
\usepackage{hyperref}
\usepackage{cleveref}
\usepackage{tikz-uml}
%-----------------------------------------------
% DOCUMENT CONFIG
%-----------------------------------------------
% Add point after title number
\titleformat{\section}[block]{\sc\bfseries\center\Large}{\thesection.}{0.5em}{}
\titleformat{\subsection}[block]{\sc\bfseries\center}{\thesubsection.}{0.5em}{}
\titleformat{\subsubsection}[block]{\sc\bfseries\center}{\thesubsubsection.}{0.5em}{}
% Commands
\newcommand{\yy}[1]{\colorbox{yellow!70}{#1}}
\newcommand{\bb}[1]{\colorbox{blue!30}{#1}}
\newcommand{\rr}[1]{\colorbox{red!30}{#1}}
\newcommand{\gr}[1]{\colorbox{green!30}{#1}}
% Tikz
\tikzstyle{vertex}=[circle, draw, inner sep=2pt, minimum size=8pt]
\newcommand{\vertex}{\node[vertex]}
\usetikzlibrary{arrows,petri,topaths,calc}
% DOC INFO
\title{Rapport de Projet Tuteuré - ANDROIDE}
\author{Alexandre Bontems, Gualtiero Mottola, Hans Thirunavukarasu}
% Listings
\lstset{
frame=lines,
basicstyle=\ttfamily\small,
numbers=left,
numberstyle=\tiny,
%numbersep=5pt,
literate=%
{é}{{\'e}}1
{ê}{{\^e}}1
{à}{{\`a}}1,
commentstyle=\color{gray},
language=Octave
}
% Theorems
\newtheorem{observation}{\it\bfseries Observation}
\newtheorem{definition}{\it\bfseries Définition}
%images storage 
\graphicspath{ {./images/} {./sections/images/} }
% Bibliography
\addbibresource{bibliography.bib}
%--------------------------------------------------
%	DOCUMENT BODY
%--------------------------------------------------
\begin{document}	
	\begin{center}
	    \includegraphics[width=0.3\linewidth]{sorbonne}\\[0.8cm]
	    \textsf{\large\bfseries Rapport de Projet Tuteuré - PANDROIDE}\\[0.25cm]
	    \textsf{\Large\bfseries Pas de jaloux, un jeu de partage équitable}\\[0.5cm]
	    \textbf{Auteurs}\\
	    Alexandre Bontems\\Gualtiero Mottola\\Hans Thirunavukarasu\\[0.25cm]
	    \textbf{Superviseurs}\\
	    Nicolas Maudet\\Aurélie Beynier\\[0.5cm]
	    \textit{Université Pierre et Marie Curie, Paris 6, Département Informatique\\4 place Jussieu 75252 Paris cedex 05, France}\\[0.5cm]
	\end{center}
	\begin{adjustwidth}{.5in}{.5in}\small
	    Dans le cadre du master informatique \textsf{ANDROIDE} de l'UPMC, un projet tuteuré doit être effectué par les étudiants et ce rapport en détaille les résultats. Le problème de partage équitable LEF (Local Envy Freeness), présenté en \cite{lef}, est étudié et un jeu puzzle en est dérivé. Pour répondre aux problématiques d'analyse de difficulté pour l'humain, des résolutions \textquote{à la main} sont observées et des outils sont développés pour tenter d'expliquer les ressentis. Le développement d'une application jeu pose également les problématiques liées à l'expérience utilisateur et de conception de tutoriel. 
	\end{adjustwidth}
	\tableofcontents
%	\newpage

	\section{Introduction}
		\subfile{sections/intro.tex}
	\section{Analyse d'instances}
	    \label{sec-analyse}
        \subfile{sections/analyse.tex}
	\section{Application mobile}
	    \label{app}
	    \subfile{sections/app.tex}
	    
	\section{Travail futur}
    Un certain nombre de pistes peuvent être mentionnées pour continuer ce projet et peut être en améliorer les résultats. En effet, un travail d'observation, correctement formalisé, des résolutions humaines pourrait donner de nouvelles perspectives pour la conception de mesures rapide à calculer et intéressantes. Les mesures présentées dans ce rapport sont certainement améliorables également. Particulièrement la mesure \texttt{npstn} comptant le nombre de positions possibles des objets dans une instance; il serait intéressant de mesurer le processus d'élimination qui découle de ces positions. 
    
	L'application jeu quant à elle, bien que jouable et amusante selon certains utilisateurs, peut également faire l'objet d'améliorations. Les niveaux sont actuellement stockés en durs dans un fichier XML mais des solutions simples sont disponibles pour charger les niveaux depuis internet. Des extensions du jeu sont également à considérer comme par exemple la possibilité de changer la configuration du réseau liant les agents. On peut imaginer une action obstruant la visibilité entre deux agents et supprimant ainsi la possibilité de jalousie entre eux. Échanger les positions de deux agents côte à côte change complètement la donne du problème mais est une piste intéressante en terme de jouabilité. 
	
	\section{Conclusion}
	
	Nous avons pu proposer plusieurs outils d'analyse du problème LEF pertinents pour des résolutions \textquote{à la main} par des humains. 
	[...]
	
	Ce projet s'est révélé enrichissant sur plusieurs niveaux. Nous avons pu mettre en pratique les différentes méthodes d'optimisation et de résolution apprises au sein de notre formation. Nous plonger dans la littérature des problèmes de satisfaction de contraintes, d'optimisation combinatoire et du problème de sélection d'algorithme nous a permis d'appréhender et apprécier les différentes communautés en action. En parallèle, grâce au développement de l'application de jeu, toutes les problématiques d'ingénierie, de travail en équipe et de conception d'interface étaient des défis bienvenus. Tenter de comprendre comment la psyché humaine pouvait influer sur les résolutions était difficile pour nous, étudiants en informatique, mais encore une fois un pan de recherche particulièrement captivant. Enfin, nous avons pu gratter la surface des travaux de nos collègues DAC grâce à la partie apprentissage.
	
%	\bibliography{bibliography}
    \printbibliography[heading=bibintoc]
    \begin{appendix}
        \section{LEF Solver}
Pour aider le développement et les tests des outils d'analyse, une application avec GUI a été développée grâce à \texttt{PyQt5} (\Cref{fig-lefsolver}). Elle permet le calcul de toutes les mesures présentées en~\Cref{sec-analyse} et de visualiser les différentes solutions trouvées par ASP. Des fonctionnalités d'exportations sont également présentes, très utiles pour l'intégration de nouveaux niveaux dans l'application pour ou pour la partie apprentissage.

\begin{figure}[ht!]
\centering
\includegraphics[width=0.7\linewidth]{lefsolver}
\caption{Capture d'écran du LEF solver}
\label{fig-lefsolver}
\end{figure}
        
        \section{Diagramme de classe d'Equity}
\begin{figure}[ht!]
\centering
\begin{tikzpicture}
    \umlsimpleclass{GameApplication}
    \umlsimpleclass[x=4.5]{LevelLoader}
    \umluniassoc{GameApplication}{LevelLoader}
    \begin{umlpackage}[x=8]{Models}
        \umlsimpleclass{Grid}
        \umlsimpleclass[y=-2]{Model}
        \umlassoc[mult2=1, mult1=1]{Model}{Grid}
        \umlsimpleclass[y=-4]{Level}
        \umlassoc[mult2=1, mult1=1]{Model}{Level}
        \umlsimpleinterface[x=3,y=-2]{IPiece}
        \umlassoc[mult1=1,mult2=*]{Model}{IPiece}
        \umlsimpleclass[x=2.5, y=-4]{Actor}
        \umlsimpleclass[x=5, y=-4]{Preference}
        \umlimpl{Actor}{IPiece}
        \umlimpl{Preference}{IPiece}
        \umlsimpleclass[x=4, y=-6.5]{Position}
        \umlassoc[mult1=1, mult2=1]{Actor}{Position}
        \umlassoc[mult1=1, mult2=1]{Preference}{Position}
    \end{umlpackage}
    \umluniassoc[geometry=-|-]{LevelLoader}{Level}
    \begin{umlpackage}[fill=red!20, y=-2]{Activities}
        \umlsimpleclass{MainMenuActivity}
        \umlsimpleclass[y=-1.5]{LevelMenuActivity}
        \umlassoc{MainMenuActivity}{LevelMenuActivity}
    \end{umlpackage}
    \umluniassoc[anchor2=50]{GameApplication}{Activities}
    \begin{umlpackage}[fill=red!20, y=-6]{Views}
        \umlsimpleclass{RecyclerView}
    \end{umlpackage}
    \umlassoc[mult1=1, mult2=*, anchors=-35 and 35]{LevelMenuActivity}{RecyclerView}
    \umlassoc[geometry=-|-]{RecyclerView}{Level}
    \begin{umlpackage}[y=-9]{GoogleSheets}
        \umlsimpleclass{GoogleSheetsWriteUtil}
        \umlsimpleclass[y=-1.5]{SheetsServiceUtil}
        \umluniassoc{GoogleSheetsWriteUtil}{SheetsServiceUtil}
        \umlsimpleclass[x=6, type=abstract]{AsyncTask}
        \umluniassoc{GoogleSheetsWriteUtil}{AsyncTask}
        \umlsimpleclass[y=-2, x=4]{WriteUserInfo}
        \umlimpl{WriteUserInfo}{AsyncTask}
        \umlsimpleclass[y=-2, x=8]{WriteUserEvaluation}
        \umlimpl{WriteUserEvaluation}{AsyncTask}
        \umlsimpleclass[x=10]{ModifyUserProfile}
        \umlimpl{ModifyUserProfile}{AsyncTask}
    \end{umlpackage}
    \umluniassoc[geometry=-|, anchor2=70]{Activities}{GoogleSheets}
\end{tikzpicture}
\caption{Diagramme de classe non exhaustif}
\end{figure}
\end{appendix}
\end{document}